<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome Page</title>
    <style>
        /* Existing styles... */
        body {
            font-family: monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #ffffff;
            color: #000000; /* Default text color */
            overflow: hidden; /* Prevents scrolling */
            padding: 20px;
        }

        /* Toggle button styles */
        .toggle-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }
        .toggle-button {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: #333333FF; /* Button background */
            border: 2px solid #000000; /* Border color */
            width: 120px; /* Increased width for the divider */
            height: 40px;
            border-radius: 20px;
            padding: 0 10px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .light-mode-icon, .dark-mode-icon {
            font-size: 24px;
        }
        .divider {
            border-left: 2px solid #000000; /* Divider line */
            height: 20px; /* Divider height */
            margin: 0 5px; /* Margin around the divider */
        }

        /* Dark Mode */
        .dark-mode {
            background-color: #000000;
            color: #ffffff;
        }
        .dark-mode .toggle-button {
            border-color: #fff; /* Border color in dark mode */
        }
        .dark-mode .divider {
            border-left: 2px solid #fff; /* Divider color in dark mode */
        }
        .dark-mode .light-mode-icon,
        .dark-mode .dark-mode-icon {
            color: #fff; /* Icon color in dark mode */
        }

        /* Typing effect styles */
        .welcome-text {
            font-size: 48px;
            color: inherit; /* Inherit color for dark/light mode */
            border-right: 4px solid currentColor;
            word-wrap: break-word;
            overflow: hidden;
        }
        @keyframes blink {
            50% { border-color: transparent; }
        }
        .cursor {
            display: inline-block;
            animation: blink 0.75s step-end infinite;
        }
    </style>
</head>
<body>
    <div class="toggle-container">
        <div class="toggle-button" id="toggleButton">
            <span class="light-mode-icon">‚òÄÔ∏è</span>
            <div class="divider"></div>
            <span class="dark-mode-icon">üåô</span>
        </div>
    </div>

    <div class="welcome-text" id="welcomeText"></div>
    <div class="cursor"></div>

    <script>
        // Retrieve saved theme from localStorage
        const currentTheme = localStorage.getItem('theme') || 'light';
        document.body.classList.toggle('dark-mode', currentTheme === 'dark');

        // Toggle button function
        document.getElementById('toggleButton').addEventListener('click', () => {
            const isDarkMode = document.body.classList.toggle('dark-mode');
            localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
        });

        const messages = [
            "Welcome to DISCURIO.",
            "DISCURIO is an experience that will challenge you to search, learn, think, and live.",
            "Completion of these challenges must be proven with a photo.",
            "Stolen or forged photographs will be detected and DISCURIO will become invisible to you.",
            "No two challenges will be the same and each will vary in the level of commitment required and resources needed.",
            "The challenges will become increasingly difficult and personal.",
            "This experience can be joined at any time and there is no participant quota.",
            "Complete one hundred challenges, and you win.",
            "Good luck and please enjoy DISCURIO."
        ];
        const textElement = document.getElementById("welcomeText");
        let messageIndex = 0;
        let charIndex = 0;

        function typeText() {
            if (charIndex < messages[messageIndex].length) {
                textElement.textContent += messages[messageIndex].charAt(charIndex);
                charIndex++;
                setTimeout(typeText, 10);
            } else {
                setTimeout(() => {
                    clearText();
                }, 1000);
            }
        }

        function clearText() {
            if (charIndex > 0) {
                charIndex--;
                textElement.textContent = messages[messageIndex].substring(0, charIndex);
                setTimeout(clearText, 5);
            } else {
                messageIndex++;
                if (messageIndex < messages.length) {
                    setTimeout(() => {
                        typeText();
                    }, 500);
                } else {
                    setTimeout(() => {
                        document.querySelector('.cursor').style.display = 'none';
                        window.location.href = "/upload";
                    }, 1000);
                }
            }
        }

        document.addEventListener("DOMContentLoaded", () => {
            typeText();
        });
    </script>
</body>
</html>
